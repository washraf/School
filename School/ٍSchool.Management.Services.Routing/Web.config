<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
  <system.web>
    <compilation debug="true" targetFramework="4.5.2"/>
    <httpRuntime targetFramework="4.5.2"/>
  </system.web>
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs"
        type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
        warningLevel="4" compilerOptions="/langversion:6 /nowarn:1659;1699;1701"/>
      <compiler language="vb;vbs;visualbasic;vbscript" extension=".vb"
        type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
        warningLevel="4" compilerOptions="/langversion:14 /nowarn:41008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+"/>
    </compilers>
  </system.codedom>
  <system.serviceModel>
    <!--Clients-->
    <client>
      <endpoint name="Normal"
                address="http://localhost:25696/NormalService.svc"
                contract="*" binding="wsHttpBinding"/>
      <endpoint name="Premium"
                address="http://localhost:25696/PremiumService.svc"
                contract="*" binding="wsHttpBinding"/>
    </client>
    <services>

      <!--Router-->
      <service name="System.ServiceModel.Routing.RoutingService">
        <endpoint name="CustomerRouter"
                  address="http://localhost:4321/CustomerRouter"
                  binding="wsHttpBinding"
                  contract="System.ServiceModel.Routing.IRequestReplyRouter"/>
      </service>


    </services>

    <routing>
      <filters>
        <filter name="PremiumUser"
                filterType="Custom"
                customType="Center.Services.TheRouter.CustomFitler,Center.Services.TheRouter"
                />
        <filter name="NormalUser" filterType="MatchAll"/>
        <!--Round Robin-->
        <!--<filter name="RR1"
                filterType="Custom"
                customType="Center.Services.TheRouter.RoundRobinMessageFilter,Center.Services.TheRouter"
                filterData="roundRobinGroup"
                />
        <filter name="RR2"
                filterType="Custom"
                customType="Center.Services.TheRouter.RoundRobinMessageFilter,Center.Services.TheRouter"
                filterData="roundRobinGroup"/>-->
      </filters>
      <filterTables>
        <filterTable name="RoutingTable">
          <add filterName="PremiumUser" endpointName="Premium" priority="2"/>
          <add filterName="NormalUser" endpointName="Normal" priority="1"/>
          <!--Round Robin-->
          <!--<add filterName="RR1" endpointName="Normal"/>
          <add filterName="RR2" endpointName="Premium"/>-->
        </filterTable>
      </filterTables>
    </routing>



    <behaviors>
      <serviceBehaviors>
        <behavior>
          <!--<serviceMetadata httpGetEnabled="true" httpsGetEnabled="true"/>-->
          <serviceDebug includeExceptionDetailInFaults="true"/>
          <routing filterTableName="RoutingTable"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>
</configuration>